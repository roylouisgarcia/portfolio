<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Certifications</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug { border: 1px solid #ccc; padding: 10px; margin: 10px; }
    </style>
</head>
<body>
    <h1>Test Certifications Parsing</h1>
    <div id="debug"></div>
    
    <script>
        // Parse mooc_projects.txt content into structured data
        function parseMoocProjectsData(content) {
          const projects = [];
          // Split by multiple newlines to separate projects
          const sections = content.split(/\n\s*\n\s*\n/);
          
          sections.forEach(section => {
            if (section.trim()) {
              const lines = section.trim().split('\n');
              const project = {};
              
              lines.forEach(line => {
                const colonIndex = line.indexOf(':');
                if (colonIndex > -1) {
                  const key = line.substring(0, colonIndex).trim().toLowerCase();
                  const value = line.substring(colonIndex + 1).trim();
                  
                  if (key === 'title') {
                    project.title = value;
                  } else if (key === 'github url') {
                    project.githubUrl = value;
                  } else if (key === 'image 1') {
                    project.image1 = value;
                  } else if (key === 'image 2') {
                    project.image2 = value;
                  } else if (key === 'description') {
                    project.description = value;
                  } else if (key === 'actual site') {
                    project.actualSite = value;
                  } else if (key === 'read more' || key === 'read more:') {
                    project.readMore = value;
                  }
                }
              });
              
              if (project.title && project.githubUrl && project.image1) {
                projects.push(project);
              }
            }
          });
          
          console.log('Parsed projects:', projects);
          return projects;
        }

        // Load and test parsing
        fetch('./mooc_projects.txt')
            .then(response => response.text())
            .then(content => {
                console.log('Raw content:', content);
                const projects = parseMoocProjectsData(content);
                
                const debugDiv = document.getElementById('debug');
                debugDiv.innerHTML = '<h2>Parsed Projects:</h2>' + 
                    projects.map(p => `
                        <div class="debug">
                            <h3>${p.title}</h3>
                            <p><strong>GitHub:</strong> ${p.githubUrl}</p>
                            <p><strong>Image:</strong> ${p.image1}</p>
                            <p><strong>Description:</strong> ${p.description}</p>
                        </div>
                    `).join('');
                
                console.log('Total projects found:', projects.length);
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('debug').innerHTML = '<p style="color: red;">Error loading file: ' + error + '</p>';
            });
    </script>
</body>
</html>
